# Топ вопросов по Maven
## Оглавление
- [Что такое Maven и для чего используется?](#что-такое-maven-и-для-чего-используется)
- [Что такое pom.xml и зачем он нужен?](#что-такое-pomxml-и-зачем-он-нужен)
- [Какие фазы жизненного цикла сборки существуют?](#какие-фазы-жизненного-цикла-сборки-существуют)
- [Что такое зависимости?](#что-такое-зависимости)
- [Как работает механизм наследования?](#как-работает-механизм-наследования)
- [Что такое плагины и для чего нужны?](#что-такое-плагины-и-для-чего-нужны)
- [Что такое профили и зачем нужны?](#что-такое-профили-и-зачем-нужны)
- [Что такое локальный и удалённый репозиторий?](#что-такое-локальный-и-удалённый-репозиторий)
- [Что такое артефакт?](#что-такое-артефакт)
- [Чем отличаются compile, test и provided scope?](#чем-отличаются-compile-test-и-provided-scope)
- [Что такое мульти-модульный проект?](#что-такое-мульти-модульный-проект)
- [Что такое dependencyManagement?](#что-такое-dependencymanagement)
- [Что такое maven-surefire-plugin?](#что-такое-maven-surefire-plugin)
- [Как добавить кастомный репозиторий?](#как-добавить-кастомный-репозиторий)
- [Что такое переменные и как их использовать?](#что-такое-переменные-и-как-их-использовать)
- [Что такое транзитивные зависимости?](#что-такое-транзитивные-зависимости)
- [Что такое сборка с помощью maven-assembly-plugin?](#что-такое-сборка-с-помощью-maven-assembly-plugin)
- [Чем отличается версия SNAPSHOT от релизной версии?](#чем-отличается-версия-snapshot-от-релизной-версии)
## Что такое Maven и для чего используется?
Apache Maven — это инструмент для управления проектами и сборки, который помогает автоматизировать процессы компиляции, 
тестирования, упаковки, развертывания и документирования Java-проектов. Maven использует файл конфигурации pom.xml
(Project Object Model), где описаны зависимости, плагины и задачи сборки. Основная задача Maven — упростить управление 
зависимостями и жизненным циклом сборки.
## Что такое pom.xml и зачем он нужен?
pom.xml (Project Object Model) — это основной файл конфигурации Maven. Он содержит информацию о проекте, таких как его
имя, версия, описание, зависимости, плагины, настройки сборки и профили. Через pom.xml Maven понимает, как
компилировать и собирать проект, какие зависимости нужно загрузить и какие задачи нужно выполнить.
## Какие фазы жизненного цикла сборки существуют?
Maven имеет три ключевых жизненных цикла сборки:
- default (по умолчанию): включает основные фазы, такие как validate, compile, test, package, install, deploy.
- clean: отвечает за удаление предыдущих сборок и артефактов с помощью фазы clean.
- site: генерирует документацию проекта.

Основные фазы жизненного цикла по умолчанию:
- validate — проверяет, что проект корректен.
- compile — компилирует исходный код.
- test — запускает тесты.
- package — упаковывает проект в дистрибутив (например, JAR или WAR).
- install — устанавливает собранный артефакт в локальный репозиторий.
- deploy — публикует артефакт в удалённый репозиторий.
## Что такое зависимости?
Зависимости в Maven — это библиотеки или компоненты, которые необходимы проекту для его сборки или работы. Maven
автоматически загружает их из центрального репозитория Maven или других настроенных репозиториев. Зависимости
описываются в блоке <dependencies> файла pom.xml.
## Как работает механизм наследования?
Maven поддерживает наследование конфигураций через механизм parent POM. Один проект может унаследовать конфигурацию
(например, зависимости или плагины) от другого проекта через указание родительского pom.xml.
## Что такое плагины и для чего нужны?
Плагины в Maven — это инструменты, которые выполняют различные задачи в процессе сборки. Практически все фазы сборки
выполняются через плагины. Например, компиляция исходного кода выполняется через плагин maven-compiler-plugin, а
упаковывание — через maven-jar-plugin.
## Что такое профили и зачем нужны?
Профили в Maven используются для задания различных конфигураций проекта в зависимости от среды выполнения (например,
для dev, test и production). В профиле можно настроить плагины, зависимости и другие параметры, которые будут
активироваться только при выборе конкретного профиля.
## Что такое локальный и удалённый репозиторий?
- Локальный репозиторий — это директория на машине разработчика, где хранятся загруженные зависимости и собранные
артефакты. По умолчанию это директория ~/.m2/repository.
- Удалённый репозиторий — это центральное хранилище, откуда Maven загружает зависимости, если их нет в локальном
репозитории. Наиболее известный удалённый репозиторий — это Maven Central.
## Что такое артефакт?
Артефакт в Maven — это результат сборки проекта, например, JAR или WAR файл. Артефакт идентифицируется с помощью 
координат: groupId, artifactId, version, и, опционально, classifier. Эти параметры уникально определяют артефакт в
репозитории.
## Чем отличаются compile, test и provided scope?
- compile — зависимость доступна на всех этапах сборки (по умолчанию).
- test — зависимость используется только для тестирования.
- provided — зависимость требуется во время компиляции и тестирования, но не включается в итоговый артефакт.
Предполагается, что она будет предоставлена в среде выполнения (например, сервлет-контейнером).
## Что такое мульти-модульный проект?
Мульти-модульный проект — это проект, который состоит из нескольких подпроектов (модулей), объединённых в один
общий проект. В главном pom.xml указаны ссылки на все модули.
```xml
<modules>
    <module>module1</module>
    <module>module2</module>
</modules>
```
## Что такое dependencyManagement?
dependencyManagement используется для централизованного управления версиями зависимостей в родительском POM. Дочерние
проекты могут использовать эти зависимости, но должны явно их указать в своих зависимостях (без указания версии).
```xml
<dependencyManagement>
    <dependencies>
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-web</artifactId>
            <version>2.5.4</version>
        </dependency>
    </dependencies>
</dependencyManagement>
```
## Что такое maven-surefire-plugin?
maven-surefire-plugin — это плагин для запуска тестов в Maven. Он используется для выполнения тестов JUnit или TestNG 
во время фазы test.
```xml
<build>
    <plugins>
        <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-surefire-plugin</artifactId>
            <version>2.22.2</version>
        </plugin>
    </plugins>
</build>
```
## Как добавить кастомный репозиторий?
Для добавления кастомного репозитория в Maven нужно указать его в секции <repositories> в pom.xml.
```xml
<repositories>
    <repository>
        <id>my-repo</id>
        <url>https://my.custom.repo/repo</url>
    </repository>
</repositories>
```
## Что такое переменные и как их использовать?
Переменные в Maven позволяют централизованно управлять значениями, которые могут повторяться в pom.xml. Переменные
объявляются в секции <properties> и могут использоваться в других частях файла.
```xml
<properties>
    <java.version>11</java.version>
</properties>

<build>
    <plugins>
        <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-compiler-plugin</artifactId>
            <configuration>
                <source>${java.version}</source>
                <target>${java.version}</target>
            </configuration>
        </plugin>
    </plugins>
</build>
```
## Что такое транзитивные зависимости?
Транзитивные зависимости — это зависимости, которые загружаются не напрямую, а через другие зависимости. Например, если
проект зависит от библиотеки A, а библиотека A зависит от библиотеки B, то Maven автоматически загрузит библиотеку B.
## Что такое сборка с помощью maven-assembly-plugin?
maven-assembly-plugin позволяет создавать кастомные дистрибутивы проекта. Например, с его помощью можно собрать архив,
содержащий JAR-файл и необходимые зависимости.
```xml
<plugin>
    <groupId>org.apache.maven.plugins</groupId>
    <artifactId>maven-assembly-plugin</artifactId>
    <version>3.3.0</version>
    <configuration>
        <descriptorRefs>
            <descriptorRef>jar-with-dependencies</descriptorRef>
        </descriptorRefs>
    </configuration>
</plugin>
```
## Чем отличается версия SNAPSHOT от релизной версии?
Версия SNAPSHOT указывает на промежуточную, нестабильную версию проекта, которая может изменяться. Maven загружает
SNAPSHOT-версии каждый раз, когда они обновляются. Релизная версия стабильна и не изменяется.
